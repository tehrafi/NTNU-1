\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{tabularx}
\usepackage{mainpackage}

\begin{document}

\begin{titlepage}
    \centering
    \vspace*{\fill}

    \vspace*{0.5cm}

    \huge
    TDT4145 - Øving 1

    \vspace*{0.5cm}

    \large Sander Lindberg

    \vspace*{\fill}
    \end{titlepage}

	\newpage
	
	\section{Oppgave 1: Databasesystemer}
		\subsection{Oppgave a}
			\begin{quote}
				\textit{''Forklar kort og overordnet hva en database (DB) og et databasehåndteringssystem
				(DBMS) er.'}'
			\end{quote}
			En database er en strukturert samling med data, som er lagret i en pc/server. Dataen er en samling av relaterte dataer. F.eks kan du lagre 							informasjon om en person, som navn, nummer, fødselsdato, barn, foreldre, kjæledyr osv\dots
			
			Databasehåndteringssystem eller DBMS er et program en bruker for å håndtere databaser. For eksempel \textbf{DB2}, \textbf{Oracle}, 								\textbf{MySQL} osv\dots
			
		\subsection{Oppgave b}
			\begin{quote}
				\textit{
				''En database og et databasehåndteringssystem kan man tenke seg til sammen utgjør
				et databasesystem. Det er mange fordeler ved å bruke et databasesystem i
				motsetning til tradisjonelle filsystemer der hver brukergruppe selv tar hånd om egne
				filer for å behandle lagring av data. Forklar nærmere hva som menes med følgende
				tre egenskaper og hvilke fordeler det medfører:''
				}
			\end{quote}
			
			\begin{enumerate}
				\item \textbf{Program-data uavhengighet:} Sørger for at dataen fortsatt har  integritet og tilgjenglighet, selvom databasen blir endret, enten 								fysisk eller logisk.
				
				\item \textbf{Flerbrukersstøtte:} Går ut på at databasen støtter at flere kan aksessere og endre dataen samtidig. For eksemel om to stykker 									skal oppdatere en saldo samtidig, da vil kun det siste innskuddet til saldoen bli registrert om databasen ikke har flerbrukerstøtte, mens 								begge vil registreres dersom den gjør.  
				
				\item \textbf{Selvbeskrivende:} Hvis databasen inneholder en beskrivelse av sin egen struktur, sies den å være \textit{selvbeskrivende}. 
			\end{enumerate}
			
			
	\section{Oppgave 2: ER-modellen}	
		\subsection{Oppgave a}		
			\textbf{Forklar:}
			\begin{enumerate}
				\item \textbf{Forskjellen på en entitet og en entitetsklasse:} En \textbf{entitet} er et objekt av en \textbf{entitetsklasse}. Entitetsklassen er en 								''oppskrift'' på hvordan en entitet skal se ut. For eksempel kan en entitetsklasse være (igjen) Person, som har attributtene ''ID'', ''Navn'', 								''Fødselsdato'' osv\dots Mens en spesiell person (entitet) kan ha fylt inn disse attributtene med data; ''ID: 1'', ''Navn: Sander Lindberg'', 								''Fødselsdato: 27.06.98''.
				
				\item \textbf{Forskjellen på en relasjon og en relasjonsklasse:} En \textbf{relasjon} er en sammenheng mellom to eller flere entiteter, f.eks mellom 							en Person og en Hund. \textbf{Relasjonsklassen} her kan være ''Eier''. Kan også ha rekursive relasjoner, som er relasjoner mellom like 									entiteter, f.eks	Person	og Person. En person kan være sjef for en annen person, og denne personen kan være arbeidstaker av sjefen. 									Relasjonsklasser kan også ha attributter. F.eks en relasjonsklasse ''BittAv'' (som sier om en person er bitt av en hund eller ikke) kan ha 									attributten ''Antall'', som sier hvor mange ganger.
				
				\item \textbf{Hvorfor alle entiteter må ha et eller flere nøkkelattributt:} For å kunne identifisere de. Nøkkelattributtene er unike for hver entitet, 								f.eks en ID eller et fødselsnummer for en person.
				
			\end{enumerate}
			
		\subsection{Oppgave b}
			\begin{quote}
				\textit{
					''Betrakt ER-modellen under og avgjør om følgende utsagn kan stemme. For hvert
					utsagn skal du svare “true”, “false” eller “maybe” og gi en kort begrunnelse for svaret
					ditt. Fyll svarene dine inn i tabellen				
					\begin{enumerate}
						\item Taco er en entitetsklasse og hver enkelt instans av en taco identifiseres ved hjelp av
								nøkkelattributtet TacoID.
						\item En taco kan inneholde et vilkårlig antall kjøttdeiger, oster, grønnsaker og sauser.
						\item En ordre gjort av en kunde trenger ikke inneholde noen taco.
						\item En ordre gjort av en kunde kan inneholde en million tacoer.
						\item Så fort en ordre er opprettet kan den hentes i en vilkårlig butikk.
						\item En kunde kan eksistere i systemet uten noensinne å ha bestilt noen tacoer.
						\item Hver eneste grønnsak-entitet har en vekt.
						\item En ansatt kan jobbe i ulike butikker med ulike stillingstitler
						\item Alle ordre delegeres typisk til denne samme personen som er ansatt.
						\item En kunde må være registrert med et navn.
					\end{enumerate}					
					''					
					}
			\end{quote}
			
			(Videre er tallet hvilken påstand som besvares)
			
			\begin{enumerate}
				\item \textbf{True}. Taco er en firkant, som er notasjonen for entitetsklasse,i tillegg vil alle instsanser av taco ha samme egenskaper. Oppfyller 								også kravet om en unik identifikator; TacoID. TacoID er understreket, som sier at det er en nøkkel.
				\item \textbf{True}. Alle relasjonene er (0, n), som sier at Taco \textbf{kan} ha vilkårlig mange kjøttdeiger, sauser, oster og grønnsaker, men 									\textit{trenger} ikke ha noen.
				\item \textbf{False}. Relasjonen bestilling mellom ordre og taco har en restriksjon (1, n), som sier at den \textbf{må} ha en taco, og kan ha vilkårlig 						mange.
				\item \textbf{True}. Svart på i forrige punkt.
				\item \textbf{False}. Det er en (1, 1) restriksjon mellom ordre og butikk, som sier at en ordre \textbf{må} ha en og bare en butikk.
				\item \textbf{True}. Restriksjonen (0, n) mellom kunde og en ordre sier at en kunde \textbf{trenger} ikke ha en ordre for å være kunde.
				\item \textbf{Maybe}. En grønnsak har en kilopris, som impliserer at den har en vekt, men det står ingenting om hva vekten er. Vekten kan ligge i 							beskrivelse.
				\item \textbf{True}. Restriksjonen (1, n) sier at en ansatt \textbf{må} ha en jobb (relasjonsklassen mellom ansatt og butikk, som har attributten 								stillingstittel), og at han kan ha uendelig mange jobber. Han vil dog ha en annen AnsattID hos de forskjellige butikkene, da denne er unik 								(strek under).
				\item \textbf{Maybe}. Altså, denne ansatte kan ha utrolig uflaks og bli delegert alle ordre, men restriksjonen sier at den kan gå til uendelig mange, 						så alle ansatte kan få den. En ansatt har dog en ''Tilgjengelighet''-attributt, som jeg antar sier om han allerede er delegert en ordre eller 								ikke, så det kan jo hende det er noe greier der som passer på at en ansatt ikke blir delegert alle ordre. 
				\item \textbf{Maybe}. Dunno om ''Navn''-attributtet er satt til NotNull eller ikke. Om den er satt til det, må en kunde ha navn. 
			\end{enumerate}
					
			
	\section{Oppagave 3: Svake klasser, forekomstdiagram og nye krav}
		\subsection{Oppgave a}
			\begin{quote}
				\textit{
				''Over ser du et eksempel på en svak klasse. Når kan det være hensiktsmessig med
				svake klasser? Forklar hva i modellen over som er identifiserende entitetsklasse,
				identifiserende relasjonsklasse og delvis nøkkel.''			
				}
			\end{quote}						
			
			Det kan være hensiktsmessig med svake klasser dersom en entitetsklasse mangler en ''naturlig'' nøkkel. Kinosenter er identifiserende 									entitetsklasse. Denne er ''eieren'' av kinosalen. Den identifiserende relasjonsklassen er ''SalPåSenter'' og den delvise nøkkelen er ''Salnummer'' 					(striplet underline)
			
		\subsection{Oppgave b}
			\begin{quote}
				\textit{
					''Hva skjer hvis kardinaliteten fra Kinosal til Kinosenter er (0,1) eller (1,n)? Kan vi
					fortsatt modelle Kinosal som svak? Hvorfor eller hvorfor ikke?''				
				}
			\end{quote}
			
			Hvis den er (0, 1), sier det at Kinosal ikke trenger noe Kinosenter, (1, n) sier at den kan ha uendelig mange, men må ha en. I begge tilfellene må vi 					opprette en ''vanlig'' (ikke delvis) nøkkel i Kinosal og da er det ikke en svak entitetsklasse lenger. Grunnen til at vi må opprette nøkkel i det føreste 				tilfelle er fordi en svak Kinosal ikke kan eksistere uten et Kinosenter og det andre tilfelle må vi vite hvilken kinosal det er snakk om, så vi ikke ser på 				en kinosal fra et annet kinosenter (da den kan ha flere, (1, n)).
			
			\subsection{Oppgave c}
				\begin{quote}
					\textit{
						''Utvid ER-modellen til å ta høyde for at en sal kan godkjennes for et vilkårlig antall
						filmer. Det er nemlig ikke alle saler som kan vise alle filmer. For eksempel krever
						3D-filmer spesielle skjermer som kun finnes i noen saler. En film har et unikt
						filmnummer, en tittel og en varighet. En film kan ikke ha noen begrensning i antall
						saler den kan godkjennes for. Skriv ned eventuelle antagelser du finner det
						nødvendig å gjøre.''					
					}
				\end{quote}
				
				\begin{figure}[ht!]
					\centering
					\includegraphics[width=\linewidth]{oppgave_3_c.png}
					\caption{Utvided ER-modell}
					\label{fig:oppgave_3_c}
				\end{figure}
				
		
			\subsection{Oppgave d}
				\begin{quote}
					\textit{
					Anta at vi nå har en database realisert med ER-diagrammet ditt og med følgende
data:
\begin{itemize}
	\item To kinosentere (KS1 og KS2).
	\item KS1 har kun en sal (S1), KS2 har to saler (S2 og S3).
	\item Vi har to filmer i databasen: Matban Begins (MB) og Yes Summer (YS). MB er
godkjent for alle de tre salene, YS er kun godkjent for S1.
\end{itemize}
Tegn et forekomstdiagram for denne databasetilstanden.					
					}
				\end{quote}
				\begin{figure}[ht!]
					\centering
					\includegraphics[width=7cm]{oppgave_3_d.png}
					\caption{Forekomstdiagram oppgave 3d}
					\label{fig:oppgave_3_d}
				\end{figure}
			
			\newpage
			\subsection{Oppgave e}
				\begin{quote}
					\textit{
						Utvid modellen til å ta høyde for oppsett av filmfremvisninger og tilhørende billetter:
En oppsetning av en film er knyttet til en bestemt kinosal og må ha en dato og et
tidspunkt for når filmen starter. Hver oppsatt film skal få et eget serienummer som er
unikt blant alle kinosentere i systemet.
Kinosenteret ønsker også å vite hvor mange billetter som selges og hvor mye som
tjenes til en bestemt fremvisning. En billett til en oppsatt film trenger et setenummer
og har en pris. Det skal også registreres hvilket tidspunkt billetten ble kjøpt.
Skriv ned eventuelle antagelser du finner det nødvendig å gjøre.					
					}
				\end{quote}
				
				\begin{figure}[ht!]
					\centering
					\includegraphics[width=10cm]{oppgave_3_e.png}
					\caption{Utvided ER-modell oppgave 3d}				
					\label{fig:oppgave_3_e}
				\end{figure}
				
			\newpage
			\section{Oppave 4}
			
\end{document}